---
title:  "[Docker] 🐋 볼륨 마운트 (Volume Mount)"
excerpt: "Docker CS 지식 정리"
categories:
  - Docker
tags:
  - [CS, Docker]

toc: true
toc_sticky: true
 
date: 2024-01-31
last_modified_at: 2024-01-31
---

## 📖 볼륨 마운트

볼륨 - 스토리지의 한 영역을 분할한 것  
마운트 - 연결하다  

이때, 컨테이너가 삭제되면 안에있는 데이터도 날라가기 때문에 일반적으로 데이터를 외부와 마운트해서 저장하는데 이를 데이터 퍼시스턴시(Data persistency)라고 한다.  

이때 데이터를 저장하는 장소가 마운트된 스토리지 영역이며 이를 스토리지 마운트, 볼륨 마운트라고 한다.  

<br>

## 📖 스토리지 마운트   

2가지 마운트가 존재하며 특히 3가지 차이점으로 구별하여 사용한다.  
 - 복잡성
 - 호스트에서 파일을 다뤄야 하는지
 - 환경의 의존성 배제

### 🍄 볼륨 마운트

도커 엔진이 관리하는 영역 내에 만들어진 볼륨을 컨테이너에 디스크 형태로 마운트한다.  
이름만으로 관리가 가능하지만, 볼륨에 비해 직접 조작하기 어렵다.  
 - 임시용
 - 자주 쓰지는 않지만 지우면 안되는 파일

<br>

### 🍄 바인드 마운트

도커가 설치된 컴퓨터의 문서 폴더 또는 바탕화면 폴더 등 도커 엔진에서 관리하지 않는 영역의 기존 디렉터리를 컨테이너에 마운트하는 방식이다.  
 - 자주 사용하는 파일

<br>

## 📖 마운트 커맨드

스토리지 마운트는 마치 바로가기처럼 `run`커맨드를 이용하여 특정 컨테이너 안에 볼륨으로 가는 단축 아이콘을 만드는 것과 같다.  
스토리지 마운트를 위해서는 다음 절차를 따른다.  

`스토리지 영역을 생성 -> 컨테이너를 생성(및 마운트) ` 

이를 위한 명령어로 스토리지를 생성/삭제 명령어는 다음과 같다.  

```
docker volume create [볼륨 이름]
docker volume rm [볼륨 이름]
```

스토리지를 마운트하기

```
docker run (옵션 및 이름) -v [스토리지 실제 경로]:[컨테이너 마운트 경로]
```

<br>

### 🍄 실습

윈도우에서 바인트 마운트로 진행하였다.  
파일을 만들고 그 곳에 `hello.md`를 생성해주었다.  

이후 `cmd`에 접속하여 다음과 같이 입력해주었다.  

`docker run --name apaServer -d -p 8085:80 -v C:\Users\qwer\newFolder:/usr/local/apache2/htdocs httpd`

![image](https://github.com/yyechan0602/yyechan0602.github.io/assets/37824506/296671a8-5b73-4a68-85bd-596276086ec0)

이후 다음과 같이 잘 출력되는 모습이다.  

![image](https://github.com/yyechan0602/yyechan0602.github.io/assets/37824506/a556fda8-cce4-417c-bbe3-a897544c5fcc)

`hello.md`파일에 들어가면 내가 입력한 내용이 보이고, 이를 수정하면 실시간으로 반영되는 모습을 볼 수 있다.  

![image](https://github.com/yyechan0602/yyechan0602.github.io/assets/37824506/11ff7604-f097-4995-bba6-9c94a7bc4878)


<br>

***
    개인 공부 기록용 블로그입니다.
    틀리거나 오류가 있을 경우 제보해주시면 감사하겠습니다.😁