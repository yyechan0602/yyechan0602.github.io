---
title:  "â›³ Maze ë§Œë“¤ê¸° 3"
excerpt: "ê°„ë‹¨í•œ ë¯¸ë¡œê²Œì„ì„ ë§Œë“¤ê³  ì‹¤í–‰í•´ë³´ì"

categories:
  - Unity1
tags:
  - [Unity1, Maze, Game]

toc: true
toc_sticky: true
 
date: 2023-01-13
last_modified_at: 2023-01-15
---

<br>

## 1. ë¯¸ë¡œ ë§Œë“¤ê¸°

<br>

ìƒˆ `Cube`ë¥¼ ë§Œë“ í›„ ì´ë¦„ì„ Wallë¡œ ë°”ê¾¼í›„ ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ì´ì¦ˆ ì¡°ì ˆì„ í•´ì¤€ë‹¤.

<br>

ì´í›„ ì´ ë²½ì„ ë³µì‚¬í›„ ì‚¬ìš©í•˜ì—¬ ììœ ë¡­ê²Œ ë¯¸ë¡œë¥¼ ë§Œë“ ë‹¤.
ë˜í•œ ê°„ë‹¨í•˜ê²Œ êµ¬ë³„í•˜ê¸° ìœ„í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì´ `Tag`ë¥¼ ë³€ê²½í•´ ì£¼ì—ˆë‹¤.

<br>

![tag](https://user-images.githubusercontent.com/37824506/212534071-5d2d196e-69df-4862-8c97-83df9afa67ab.gif)



![image](https://user-images.githubusercontent.com/37824506/212284236-a150e67b-b660-436f-878d-ed1405222646.png)

<br>

ë²½ì„ í™œìš©í•˜ì—¬ ë¯¸ë¡œë¥¼ ë§Œë“¤ì—ˆë‹¤. ì¶”ê°€ì ìœ¼ë¡œ ìƒˆë¡œìš´ ì—ì…‹ì„ ì´ìš©í•˜ì—¬ ìºë¦­í„°ì˜ ì™¸í–¥ì„ ë°”ê¿”ì¤€ í›„ ë•… ìƒ‰ìƒê³¼ ë²½ì„ ë°”ê¿” ì£¼ì—ˆë‹¤.  
ë„ì°©ì§€ì—ëŠ” Cylinderë¥¼ í™œìš©í•˜ì—¬ ê¾¸ë©°ì£¼ì—ˆë‹¤.

<br>

![image](https://user-images.githubusercontent.com/37824506/212533179-57885f2d-f4b3-4c79-a5ce-b659850ed6b4.png)

<br>

ì´ë•Œ ë„ì°©ì§€ì— íˆ¬ëª…í•œ ê´‘ì„  í‘œì‹œë¥¼ ìœ„í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì´ ìƒˆë¡œìš´ light `material`ì„ ë§Œë“ í›„ Shaderì˜ `UI/Unlit/Transparent`ë¥¼ ê³ ë¥¸ í›„ `Alpha`ê°’ì„ ë³€ê²½í•´ ì£¼ì—ˆë‹¤. (RGBAì˜ A ê°’)

<br>

![image](https://user-images.githubusercontent.com/37824506/212533128-a78374c0-dc09-43fa-9c66-43c01ee4eff8.png)

<br>

ì´í›„ ë‹¤ìŒê³¼ ê°™ì´ Playerì—ê²Œ `Rigidbody` ì™€ `Collider`ë¥¼ ì¶”ê°€í•´ì£¼ë©´ ì˜ ì›€ì§ì´ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

<br>


![image](https://user-images.githubusercontent.com/37824506/212533462-b17eddf1-757e-4cb3-96d8-3b1c52bcbaaa.png)


<br>

## 2. Player Jump ì¶”ê°€

<br>

Player scriptë¡œ ë“¤ì–´ê°„ í›„  Startí•¨ìˆ˜ì— ë‹¤ìŒ ì½”ë“œë¥¼ ì¶”ê°€í•œã„·.

    void Start()
    {
        PlayerJump = 8;
        PlayerSpeed = 10;
        rigid = GetComponent<Rigidbody>();
    }

ì´í›„ í”Œë ˆì´ì–´ì˜ ì í”„ë¥¼ ìœ„í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì€ í•¨ìˆ˜ë¥¼ ì¶”ê°€í•´ì¤€ë‹¤.

    void Jump()
    {
        if (Input.GetKey(KeyCode.Space))
        {
            rigid.AddForce(Vector3.up * PlayerJump, ForceMode.Impulse);
        }

    }

ê·¸ëŸ¬ë©´ í”Œë ˆì´ì–´ê°€ ì í”„ë¥¼ í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.  
í•˜ì§€ë§Œ í•œê°€ì§€ ë¬¸ì œê°€ ë°œìƒí•œë‹¤.  
ë°”ë¡œ ìºë¦­í„°ê°€ ê³µì¤‘ì—ì„œ ì—¬ëŸ¬ë²ˆ ì í”„ê°€ ê°€ëŠ¥í•´ì§€ëŠ” ê²ƒì´ë‹¤.  
ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•˜ì—¬ ì í”„ëŠ” ë•…ì—ì„œë§Œ ê°€ëŠ¥í•˜ë„ë¡ script ë§¨ ìœ„ì— `isGround`ë¼ëŠ” bool ë³€ìˆ˜ë¥¼ ì¶”ê°€í•´ì£¼ê³ , Jump() í•¨ìˆ˜ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë³€ê²½í•´ì¤€ë‹¤.

<br>

    void Jump()
    {
        if (Input.GetKey(KeyCode.Space) && isGround)
        {
            rigid.AddForce(Vector3.up * PlayerJump, ForceMode.Impulse);
            isGround = false;
        }
    }

ë˜í•œ ë•…ì— ë‹¿ì•˜ì„ë•Œ, `isGround`ë¥¼ trueë¡œ ë°”ê¿”ì£¼ê¸° ìœ„í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì€ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì£¼ë©´ ëœë‹¤.

    private void OnCollisionEnter(Collision collision)
    {
        if (collision.collider.CompareTag("Ground"))
        {
            isGround = true;
            print("ground");
        }
    }


<br>

## 3. Trap ë§Œë“¤ê¸°

<br>

ë§Œë“¤ì–´ë‘” ë²½ì„ ì´ìš©í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì´ Trapì„ ë§Œë“¤ì–´ ì£¼ì—ˆë‹¤.  
ìƒˆë¡­ê²Œ Trap `Tag`ë„ ë§Œë“¤ì–´ì„œ ì„¤ì •í•´ì£¼ì—ˆë‹¤.

<br>

![image](https://user-images.githubusercontent.com/37824506/212533945-48ff673f-03d3-42db-8364-4046716546be.png)

<br>

ì´í›„ì— ì´ Trapì´ ì›€ì§ì´ê¸° ìœ„í•˜ì—¬ ìƒˆë¡œìš´ Trap `Script`ë¥¼ ë§Œë“¤ì–´ ì£¼ì—ˆë‹¤.  

ì´í›„ `Trap Script`ì˜ ë§¨ìœ„ì— ë‹¤ìŒê³¼ ê°™ì€ ë³€ìˆ˜ë¥¼ ë§Œë“¤ì–´ ì£¼ì—ˆë‹¤.  
ì´í›„ `Start()`í•¨ìˆ˜ì—ì„œ ì´ˆê¸°í™”ë¥¼ í•´ì£¼ì—ˆë‹¤.  

    public float TrapSpeed;
    private float Move;
    public int max_x;
    public int min_x;

    void Start()
    {
        TrapSpeed = 0.1f;
        Move = TrapSpeed;
    }

ì´í›„ Trapì˜ ì›€ì§ì„ì„ ìœ„í•œ `TrapMove()`í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì¤€ í›„ `TrapMove();`ë¥¼ `Update`ë¬¸ì— ì¶”ê°€í•´ì£¼ì—ˆë‹¤.


    void TrapMove()
    {
        if (max_x < transform.position.x)
        {
            Move = -TrapSpeed;
        }
        else if(min_x > transform.position.x)
        {
            Move = TrapSpeed;
        }
        transform.position += new Vector3(Move, 0, 0);
    }

<br>

![image](https://user-images.githubusercontent.com/37824506/212534731-5593cbb3-a47c-44a8-b7c2-ed04c5fdef49.png)


ìœ„ì™€ ê°™ì€ ì½”ë“œë¥¼ ì ìš©ì‹œí‚¨ í›„ ë²½ë§ˆë‹¤ `Trap Script`ë¥¼ ë§Œë“¤ì–´ì¤€ í›„, `Max_x`ì™€ `Min_y`ë¥¼ ì„¤ì •í•´ì£¼ë©´ ëœë‹¤.

<br>

![trap](https://user-images.githubusercontent.com/37824506/212534805-ee5c49d6-5527-4daa-b7b7-29725ff2c5a7.gif)

ì´í›„ ì˜ ì‘ë™í•˜ëŠ” ëª¨ìŠµì´ë‹¤.

<br>

## 4. Trapì— ë‹¿ìœ¼ë©´ ì²˜ìŒ ìœ„ì¹˜ë¡œ ì´ë™í•˜ê¸°

<br>

`Player`ê°€ Tagê°€ `Trap`ì¸ ë¬¼ì²´ì— ë‹¿ìœ¼ë©´ ì²˜ìŒ ìœ„ì¹˜ë¡œ ì´ë™í•˜ê¸° ìœ„í•˜ì—¬ `Player Script`ì˜ `private void OnCollisionEnter(Collision collision)` ì˜ í•¨ìˆ˜ì— ë‹¤ìŒê³¼ ê°™ì´ ì½”ë“œë¥¼ ì¶”ê°€í•´ ì£¼ë©´ ëœë‹¤.  
ì´ë™í•˜ëŠ” ìœ„ì¹˜ëŠ” ììœ ë¡­ê²Œ ì„¤ì •í•˜ì—¬ë„ ì¢‹ë‹¤.  

    if (collision.collider.CompareTag("Trap"))
        {
            transform.position = new Vector3(-20, 2, -20);
        }

<br>

![trap2](https://user-images.githubusercontent.com/37824506/212535018-79f22bdd-7cf1-45dc-b363-51759c31eb36.gif)


ì´í›„ ë‹¤ìŒê³¼ ê°™ì´ ì˜ ì‘ë™í•˜ëŠ” ëª¨ìŠµì´ë‹¤.

<br>

***
    ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤.
    í‹€ë¦¬ê±°ë‚˜ ì˜¤ë¥˜ê°€ ìˆì„ ê²½ìš° ì œë³´í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤.ğŸ˜