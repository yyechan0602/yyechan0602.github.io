---
title:  "[Java] â˜• ëŒë‹¤ì‹ (Lambda)"
excerpt: "JAVA CS ì§€ì‹ ê´€ë ¨ ì •ë¦¬"
categories:
  - Java
tags:
  - [JUnit, CS, Java]

toc: true
toc_sticky: true
 
date: 2023-11-17
last_modified_at: 2023-11-17
---

## ğŸ“– ëŒë‹¤ì‹ (Lambda)

ìë°”ëŠ” í¬ê²Œ 2ê°œì˜ ì»¤ë‹¤ë€ ë³€í™”ê°€ ìˆì—ˆë‹¤.  
ì²«ë²ˆì¨°ëŠ” `JDK 1.5`ì˜ `ì œë„¤ë¦­`ì˜ ë“±ì¥  
ë‘ë²ˆì¨°ëŠ” `JDK 1.8`ì˜ `ëŒë‹¤ì‹`ì˜ ë“±ì¥ì´ë‹¤.  

í”„ë¡œê·¸ë˜ë°ì€ í¬ê²Œ ì ˆì°¨ì§€í–¥, ê°ì²´ì§€í–¥, í•¨ìˆ˜í˜•ì´ ìˆëŠ”ë°, `ëŒë‹¤ì‹`ì˜ ë“±ì¥ìœ¼ë¡œ ì¸í•´ì„œ ìë°”ëŠ” `ê°ì²´ì§€í–¥ ì–¸ì–´`ì„ê³¼ ë™ì‹œì— `í•¨ìˆ˜í˜• ì–¸ì–´`ê°€ ë˜ì—ˆë‹¤.  

<div class="notice--warning" markdown="1">
ì ˆì°¨ ì§€í–¥ í”„ë¡œê·¸ë˜ë°(Procedural Programming)
 - ìˆœì°¨ì ì¸ ì²˜ë¦¬ë¥¼ ì¤‘ìš”ì‹œ ì—¬ê¸°ë©°, í”„ë¡œê·¸ë¨ ì „ì²´ê°€ ìœ ê¸°ì ìœ¼ë¡œ ì—°ê²°ë˜ë„ë¡ ë§Œë“œëŠ” í”„ë¡œê·¸ë˜ë° ê¸°ë²•

ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°(Object Oriented Programming)
 - ëª¨ë“  ë°ì´í„°ë¥¼ ê°ì²´(Object)ë¡œ ì·¨ê¸‰í•˜ì—¬, ê°ì²´ê°€ ì²˜ë¦¬ ìš”ì²­ì„ ë°›ì•˜ì„ ë•Œ, ê°ì²´ ë‚´ë¶€ì— ìˆëŠ” ê¸°ëŠ¥ì„ ê°€ì ¸ì™€ ì‚¬ìš©í•´ ì²˜ë¦¬í•˜ëŠ” ê¸°ë²•
 - `í´ë˜ìŠ¤ê°€ ì¼ê¸‰ ê°ì²´`
   - ìœ ì§€ë³´ìˆ˜ê°€ ë›°ì–´ë‚˜ë©° ì½”ë“œ ì¬ì‚¬ìš©ì´ ìš©ì˜í•˜ë‹¤.
   - ì²˜ë¦¬ì†ë„ê°€ ëŠë¦¬ë‹¤.

í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°(Functional Programming)
 - ìˆœìˆ˜ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´, ìƒí…Œë¥¼ ì œì–´í•˜ê¸°ë³´ë‹¨, ë¹ ë¥´ê²Œ ì²˜ë¦¬í•˜ëŠ”ë° ì´ˆì ì„ ë‘” ë°©ë²•.
 - `í•¨ìˆ˜ê°€ ì¼ê¸‰ ê°ì²´`
</div>

<div class="notice--warning" markdown="1">
ì¼ê¸‰ ê°ì²´ë€?

 - ë³€ìˆ˜ì— í• ë‹¹(assignment)í•  ìˆ˜ ìˆë‹¤.
 - ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ ì¸ì(argument)ë¡œ ì „ë‹¬ ë°›ëŠ”ë‹¤.
 - ë‹¤ë¥¸ í•¨ìˆ˜ì˜ ê²°ê³¼ë¡œì„œ ë¦¬í„´ë  ìˆ˜ ìˆë‹¤.
</div>

ëŒë‹¤ì‹ ì´ì „ì—ëŠ” interfaceë‚˜ abstractë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„ì„ í•˜ì˜€ë‹¤.  
íŠ¹íˆ, `Arrays.sort()`ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ `Comparator`ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜, ë³€ìˆ˜ ìì²´ì— `Compare @Override`ë¥¼ ì§€ì›í•´ì•¼ í•˜ëŠ”ë°, ì´ë¥¼ ëŒë‹¤ì‹ì„ ì‚¬ìš©í•´ì„œ ë‹¨ìˆœí•˜ê²Œ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆë‹¤.  

<br>

#### í´ë˜ìŠ¤ ìì²´ì— ì§ì ‘ ì„ ì–¸

```java
public class Book implements Comparable<Book> {
   private int price;

   public Book(int price){
      this.price = price;
  }

  public int getPrice(){
      return this.price;
  }
â€‹
   @Override
   public int compareTo(Book o) {
       return this.price-o.price;
  }
}
```

1ë²ˆì§¸ëŠ” class ìì²´ì— ë¹„êµì—°ì‚°ì´ ê°€ëŠ¥í•˜ê²Œ `Comparable ì´ë‚˜ Comparator`ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹

<br>

#### Arrays.sortì— Comparator ì •ë ¬ ê·œì¹™ ì§€ì •

```java
Arrays.sort(books ,new Comparator<Book>() {
   @Override
   public int compare(Book o1, Book o2) {
       return o1.getPrice()-o2.getPrice();
  }
});
```

`Arrays.sort`ì˜ ì¸ìì— `new Comparator`ë¼ëŠ” ì •ë ¬ ê·œì¹™ì„ ì§€ì •í•˜ëŠ” ë°©ì‹

<br>

#### Arrays.sortì— ëŒë‹¤ì‹ì„ ì§€ì •

```java
Collections.sort(books, (Book b1, Book b2)-> b1.getPrice()-b2.getPrice());
```

`Arrays.sort`ì˜ ì¸ìì— ëŒë””ì‹ì„ ì§€ì •í•˜ëŠ” ë°©ì‹

<br>

### ğŸ„ ëŒë‹¤ì‹ ì‚¬ìš©ë²•

`(ë§¤ê°œë³€ìˆ˜) -> { ì›í•˜ëŠ” ì²˜ë¦¬ë‚´ìš© }`  
ë§¤ê°œë³€ìˆ˜ì˜ íƒ€ì…ì´ë‚˜ ë°˜í™˜íƒ€ì… ë° `return` ìƒëµ ë˜í•œ ê°€ëŠ¥í•˜ë‹¤.  

```java
(int a, int b) -> { return a > b ? a : b }
(a, b) -> a > b ? a : b
```

## ğŸ“– í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤

1ê°œì˜ ì¶”ìƒ ë©”ì†Œë“œë¥¼ ê°–ëŠ” ì¸í„°í˜ì´ìŠ¤ì´ë©° `@FunctionalInterface`ë¥¼ ë¶™ì—¬ì¤€ë‹¤.  

```java
@FunctionalInterface
interface FunctionalInterfaceClass {
    // abstract method ì˜¤ì§ í•˜ë‚˜
    int sum();

    // default method ëŠ” ì¡´ì¬í•´ë„ ìƒê´€ì—†ìŒ
    default void manual() {
        System.out.println("ë”í•´ì£¼ëŠ” í•¨ìˆ˜");
    }

    // static method ëŠ” ì¡´ì¬í•´ë„ ìƒê´€ì—†ìŒ
    static void staticManual() {
        System.out.println("ë”í•´ì£¼ëŠ” í•¨ìˆ˜ì˜ static");
    }
}

public void main(){
  FunctionalInterfaceClass<String> functionalInterfaceClass = (a, b) -> a + b ;

  int result = functionalInterfaceClass.sum();
  System.out.println(result);
  functionalInterfaceClass.manual();
  functionalInterfaceClass.staticManual();
}
```

<br>

## ğŸ“– ë³€ìˆ˜ ìº¡ì²˜ (Variable Capture)

- ë¡œì»¬ ë³€ìˆ˜ ìº¡ì²˜
  - finalì´ê±°ë‚˜ effective finalì˜ ê²½ìš°ë§Œ ì°¸ì¡° ê°€ëŠ¥
  - ìœ„ë¥¼ ë§Œì¡± ëª»í•˜ë©´ `concurrency` ë¬¸ì œê°€ ë°œìƒí•˜ì—¬ ì»´íŒŒì¼ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.
- effective final
  - ì‚¬ì‹¤ìƒ finalì¸ í•¨ìˆ˜
- ìµëª… í´ë˜ìŠ¤ êµ¬í˜„ì²´ì™€ ë‹¬ë¦¬ `ì‰ë„ìœ™`ì„ í•˜ì§€ ì•ŠëŠ”ë‹¤.

<br>

### ğŸ„ ë³€ìˆ˜ ìº¡ì²˜ ì˜ˆì‹œ

```java
public class Foo {

    public static void main(String[] args){
        Foo foo = new Foo();
        foo.run();
    }

    private void run() {
        // ì°¸ì¡°ëŠ” í•  ìˆ˜ ìˆë‹¤.
        // java8 ë¶€í„°ëŠ” final í‚¤ì›Œë“œë¥¼ ìƒëµí•  ìˆ˜ ìˆëŠ” ì¼€ì´ìŠ¤ê°€ ìˆë‹¤.
        //    ì´ ë³€ìˆ˜ê°€ ì‚¬ì‹¤ìƒ finalì¸ ê²½ìš°ì´ë‹¤. (ì–´ë””ì„œë„ ì´ ë³€ìˆ˜ë¥¼ ë³€ê²½í•˜ì§€ ì•ŠëŠ” ê²½ìš°)
        int baseNumber = 10;

        // 1. ë¡œì»¬ í´ë˜ìŠ¤
        class LocalClass{
            void PrintBaseNumber(){
                System.out.println(baseNumber);
            }
        }

        // 2. ìµëª… í´ë˜ìŠ¤
        Consumer<Integer> integerConsumer = new Consumer<Integer>() {
            @Override
            public void accept(Integer integer) {
                System.out.println(baseNumber);
            }
        };

        // 3. ëŒë‹¤
        IntConsumer printInt = (i) -> {
            System.out.println(i + baseNumber);
        };

        printInt.accept(10);
    }
}
```

<br>

### ğŸ„ ë¡œì»¬ í´ë˜ìŠ¤ì™€ ìµëª… í´ë˜ìŠ¤

-> ì‰ë„ì‰ì´ ë°œìƒ

```java
int baseNumber = 10;

// 1. ë¡œì»¬ í´ë˜ìŠ¤
class LocalClass{
    void PrintBaseNumber(){
        int baseNumber = 11;
        // baseNumber ê°’ì€ 11ì´ ì°í ê²ƒì´ë‹¤. (scope)
        // run ë©”ì†Œë“œì—ì„œ ì„ ì–¸í•œ baseNumberì— ëŒ€í•´ ì‰ë„ì‰ì´ ë°œìƒ
        System.out.println(baseNumber);
    }
}

// 2. ìµëª… í´ë˜ìŠ¤
Consumer<Integer> integerConsumer = new Consumer<Integer>() {
    @Override
    public void accept(Integer baseNumber) {
        // íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ë°›ì€ baseNumber ê°€ ì°í ê²ƒì´ë‹¤.
        // run ë©”ì†Œë“œì—ì„œ ì„ ì–¸í•œ baseNumberì— ëŒ€í•´ ì‰ë„ì‰ì´ ë°œìƒ
        System.out.println(baseNumber);
    }
};
```

<br>

### ğŸ„ ëŒë‹¤

-> ì‰ë„ì‰ì´ ë¶ˆê°€ëŠ¥

```java
int baseNumber = 10;

// 3. ëŒë‹¤
IntConsumer printInt = (baseNumber) -> {
    System.out.println(baseNumber);
};
```

 - ìœ„ì™€ ê°™ì´ ì„ ì–¸í•˜ê²Œ ë˜ë©´ ì—ëŸ¬ê°€ ë°œìƒ
-> Variable 'baseNumber' is already defined in the scope

![image](https://github.com/yyechan0602/yyechan0602.github.io/assets/37824506/fbf8057f-10a8-4e14-80b9-2915cdec4cea)

<br>

## ğŸ“– ë©”ì†Œë“œ, ìƒì„±ì ë ˆí¼ëŸ°ìŠ¤

***
    ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤.
    í‹€ë¦¬ê±°ë‚˜ ì˜¤ë¥˜ê°€ ìˆì„ ê²½ìš° ì œë³´í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤.ğŸ˜