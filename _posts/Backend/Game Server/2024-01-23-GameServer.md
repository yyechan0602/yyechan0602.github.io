---
title:  "[Game Server] 🎮 Game Server"
excerpt: "Game Server CS 지식 정리"
categories:
  - Game Server
tags:
  - [CS, Game Server]

toc: true
toc_sticky: true
 
date: 2024-01-23
last_modified_at: 2024-01-23
---

## 📖 IOCP Server

`Input/Output Completion Port` 의 약자이다.  
window환경에서 제일 흔히 쓰이는 논블로킹 프로세스으로써, 최소한의 스레드를 사용하여 Port와 관련된 입출력을 처리하는 기법이다.  
`IOCP의 목적은 동시에 수행되는 스레드의 상한을 설정해서 CPU의 자원을 최대한 효율적으로 사용하게 하는 것이다.`  
Overlapped I/O가 완료되면 이를 감지하여 사용자에게 알려주는 역할을 한다.  
epoll은 I/O가 가능하면 이를 감지하여 사용자에게 알려주는 역할을 한다.  


<br>

## 📖 데이터 처리 모델

데이터 처리 모델은 데이터를 받는 방식을 의미하는데, 크게 동기식 처리와 비동기식 처리가 존재한다.  
동기 & 비동기는 리턴값을 확인 유무로 구분한다.  


### 🍄 동기(Synchronous)

동기(Synchronous) 방식은 데이터의 요청과 결과가 한자리에서 동시에 일어나는 것으로, 데이터 요청 후 시간이 얼마나 걸리든지 요청한 서버나 프로세스는 정지한 채 결과를 기다린다.  
보통 대부분의 함수나 프로세스가 위 방식으로 작동하며 설계가 매우 직관적이고, 간단하다.  
하지만, 결과가 주어질 때까지 무한정으로 대기하는 방식이므로 요청받은 서버나 프로세스가 오류가 생기거나 통신에 문제가 발생하여 결과를 받지 못하면 큰 문제가 발생할 수 있다.  

<br>

### 🍄 비동기(Asynchronous)

비동기(Asynchronous) 방식은 데이터의 요청과 결과가 동시에 일어나지 않는 것으로, 데이터 요청 후 결과를 기다리면 정지한 채 대기하는 것이 아니라 콜백 함수를 통하여 결과를 받는다.  
요청에 따라서 결과를 기다리지 않아도 되지만, 동기 방식에 비해서 설계가 복잡하다는 단점을 가지고 있다.  

<br>

## 📖 블로킹 vs 논블로킹

블로킹은 멀티스레드나 I/O에서 함수 A에서 B를 호출할 때, 제어권을 넘기냐 안넘기냐가 중요하다.  
블로킹 & 논블로킹은 제어권의 주체를 넘기느냐 안 넘기느냐로 구분  

### 🍄 블로킹

블로킹은 함수 A에서 B함수를 호출할 때, 제어권을 함수 A가 호출한 함수 B에 넘겨준다.  
따라서, 함수 A는 제어권을 돌려받기 전까지 멈춰있게 된다.  

<br>

### 🍄 논블로킹

블로킹은 함수 A에서 B함수를 호출할 때, 제어권을 함수 A가 호출한 함수 B에 넘겨주지는 않는다.
따라서, 함수 A는 제어권을 돌려받기 전까지 멈춰있지 않고 코드를 계속 실행한다.  


![image](https://github.com/yyechan0602/yyechan0602.github.io/assets/37824506/79dea841-03b5-4770-8237-946bbf0d4d5b)
 - 출처 - [동기와 비동기](https://wildeveloperetrain.tistory.com/104)

<br>

## 📖 Main Thread/ Worker Thread

 - 작업자 스레드 (Worker Thread)
 - 메인 스레드 (Main Thread)

프로세스는 일반적으로 프로세스 하나 위에 여러 멀티 스레드가 돌고 있다.  
이때, 멀티 스레드를 사용하면 성능이 향상되지만, UI를 멀티 스레드로 변경되면 화면이 출력되어야 하는 시간에 정지상태로 돌아가게 된다.  
따라서, UI를 다르는 스레드는 오직 Main(UI) 스레드에서만 가능해야만 한다.  
작업자 스레드는 메인스레드를 제외한 나머지 모든 스레드를 작업자 스레드라 한다.  

<br>

## 📖 Overlapped

소켓은 기본적으로 blocking 방식으로 이루어져 있다.  
-> 스레드에서 네트워크 수신을 하는 함수 호출을 하면 수신할 수 있는 데이터가 생길 때까지 블로킹이 발생한다.  


Overlapped I/O는 I/O에 대한 처리를 Device Driver에 권한을 넘김으로서 별도의 스레드 없이 비동기로 둘 이상의 데이터 전송을 중첩시키는 것을 의미한다.  

https://sanghun219.tistory.com/104

### 🍄 

<br>

***
    개인 공부 기록용 블로그입니다.
    틀리거나 오류가 있을 경우 제보해주시면 감사하겠습니다.😁