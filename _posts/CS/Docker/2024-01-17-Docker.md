---
title:  "[Docker] 🐋 도커란?"
excerpt: "Docker CS 지식 정리"
categories:
  - Docker
tags:
  - [CS, Docker]

toc: true
toc_sticky: true
 
date: 2024-01-17
last_modified_at: 2024-01-17
---

## 📖 Server

서버란 - 어떤 서비스(Service)를 제공(Serve)하는 것이다.  
이때, 서버는 `기능적 의미의 서버`와 `물리적 컴퓨터로서의 서버`로 나누어진다.  

<br>

### 🍄 기능적 의미의 서버

웹서버, 메일서버와 같이 말할 때, 이는 기능적 의미의 서버를 나타낸다.  

<br>

### 🍄 물리적 컴퓨터로서의 서버

책상위에 전기코드에 꽂혀 있는 서버와 같이 말할 때, 이는 물리적 컴퓨터로서의 서버를 나타낸다.  
데스크톱 컴퓨터처럼 어딘가에 물리적으로 존재하는 컴퓨터이다.  

<br>

## 📖 Docker

 - `데이터 또는 프로그램을 격리시키는 기능`을 제공하는 소프트웨어  

도커란 서버에서 사용하는 소프트웨어로 컨테이너와 도커엔진, 이미지 등이 있다.  

각 프로그램을 나누기 위해서 가상화 기술과 도커 두가지가 사용될 수 있으며, 운영체제는 커널 부분과 그 주위 부분으로 나누어진다.  

`VMWare`를 사용하여 가상화 기술을 사용하여 물리 서버를 만들어서, 메인보드, CPU, 메모리와 같은 부품을 소프트웨어로 구현한다.  
따라서, 가상 머신에는 커널부분과 그 주위부분이 다 포함되어 있다.  
하위 OS와 상관없이 아무 운영체제나 설치가 가능하며, 가상머신끼리는 완벽하게 독립된다.  

도커는 컨테이너에 운영체제의 주위 부분만 들어간다.  
무조건 리눅스 운영체제에서만 작동되며, 만약 컨테이너에서 도커엔진을 건드리면 다른 컨테이너도 영향을 받을 수 있다.  

![image](https://github.com/yyechan0602/yyechan0602.github.io/assets/37824506/ccf9b338-b3b4-4df4-9723-da92d9fd19fa)  

<br>

### 🍄 도커의 구조

 - 도커 엔진
   - 컨테이너를 생성하고 관리하며 제어할 수 있게 다양한 기능을 제공하는 도커의 프로젝트
 - 이미지
   - 컨테이너를 생성할 때 필요한 요소로, 가상머신을 생성할 때 사용하는 iso 파일과 비슷하다.
 - 컨테이너
   - 도커 이미지를 사용하여 실제로 격리된 시스템 자원 및 네트워클르 사용할 수 있는 독립된 공간

<br>

### 🍄 도커의 장단점

 - 장점
   - 한대의 물리 서버에 여러대의 서버를 띄울 수 있다.
   - 서버 관리가 용이하다
   - 서버 고수가 아니어도 다루기 쉽다.
 - 단점
   - 리눅스 소프트웨어만 지원한다.
   - 호스트 서버에 문제가 생기면 모든 컨테이너에 영향이 미친다.
 - 주 용도
   - 팀원 모두에게 동일한 개발 환경 제공(=동일한 환경 여러개 생성)
   - 새로운 버전의 테스트(=격리된 환경 이용)
   - 동일한 서버가 여러대 필요한 경우(=컨테이너 밖과 독립된 성질 이용)

<br>

<div class="notice--warning" markdown="1">
데이터나 프로그램을 독립된 환경에 격리해야하는 이유? 

![image](https://github.com/yyechan0602/yyechan0602.github.io/assets/37824506/9a3b2b6f-6e15-452d-bd56-dba0f429e641)

 - 프로그램은 단독으로 동작되지 않고 어던 실행 환경이나 라이브러리, 다른 프로그램을 이용해 동작한다.
 - 다른 프로그램들이 서로 특정한 폴더나 디렉토리를 공유하는데, 이때 프로그램 하나를 업데이트하면 다른 프로그램에도 영향을 끼치게 된다.
 - 위의 그림과 같이 A와 B가 서로 `Java 5.0`버전을 요구하다가, 시스템 B가 업데이트를 진행하면서 `Java 8.0을` 요구하게 바뀌면, 시스템 A는 오류가 발생하게 된다.
 - 따라서, 설계 및 개발단계에서는 아무런 오류가 없었던 프로그램이 실제로 설치하면 오류를 일으키는데, 대부분의 문제의 원인은 `프로그램간의 공유`로 발생한다.

-> A가 `Java 5.0`, B가 `Java 8.0`을 사용한다면 이들을 따로 세트로 묶어서 격리하면 된다.
</div>

<br>

## 📖 도커 컨테이너 생애주기

컨테이너는 `쓰고 버리는 일회용품`의 개념이다.  
새로운 버전이 나오면 컨테이너를 계속 업데이트 하면서 사용하는 것이 아닌, 기존 컨테이너는 삭제하고 새로운 컨테이너를 생성한다.  

컨테이너의 생애주기 - 컨테이너를 만들고, 실행하고, 종료하고, 폐기한 후, 다시 컨테이너를 만드는 일련의 과정

<br>

### 🍄 데이터 저장

도커 컨테이너를 삭제할 때, 컨테이너 안에 저장되어 있는 데이터들은 당연히 사라진다.  
이를 해결하기 위하여 보통 도커가 설치도니 물리적 서버(호스트)의 디스크를 마운트해 데이터를 저장한다.  

<div class="notice--warning" markdown="1">
마운트란?

 - 디스크를 연결해 데이터를 기록할 수 있도록 한 상태
</div>

<br>

***
    개인 공부 기록용 블로그입니다.
    틀리거나 오류가 있을 경우 제보해주시면 감사하겠습니다.😁