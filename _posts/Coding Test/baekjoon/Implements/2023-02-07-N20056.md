---
title:  "[ë°±ì¤€] ğŸ¥‡ N20056 ë§ˆë²•ì‚¬ ìƒì–´ì™€ íŒŒì´ì–´ë³¼"
excerpt: "ì‹¤ë ¥í–¥ìƒì„ ìœ„í•œ ë°±ì¤€ ë¬¸ì œ ë° í’€ì´"

categories:
  - BaekJoon
tags:
  - [N20056, ë§ˆë²•ì‚¬ ìƒì–´ì™€ íŒŒì´ì–´ë³¼, Implements, Java, Coding_Test, Coding, Test, baekJoon, ë°±ì¤€]

toc: true
toc_sticky: true
 
date: 2023-02-07
last_modified_at: 2023-02-08
---

## ğŸ“Œ ë‚œì´ë„

  ğŸ¥‡ Gold 4

<br>

## ğŸ“Œ ë¬¸ì œ

<https://www.acmicpc.net/problem/20056>

![image](https://user-images.githubusercontent.com/37824506/217281079-c5bb7229-d6ed-486e-b18c-302a6825564e.png)

![image](https://user-images.githubusercontent.com/37824506/217281162-ac2cc1fb-fa67-4577-bd1c-b79d50d4a5a7.png)

<br>

## ğŸ“Œ í’€ì´

ì™€... 2ë²ˆì§¸ë¡œ ë„ì „í•˜ëŠ” ê³¨ë“œ4 ë¬¸ì œì™€ ë™ì‹œì— ì²˜ìŒìœ¼ë¡œ í‘¼ ê³¨ë“œ 4 ë¬¸ì œì´ë‹¤.  
ë°¥ë¨¹ëŠ” ì‹œê°„ ì œì™¸í•˜ê³ , 8ì‹œê°„ì€ ê¼¬ë°• ì´ ë¬¸ì œë§Œ í’€ì€ ê²ƒ ê°™ë‹¤.  
ê·¸ë‚˜ë§ˆ ì‰½ê²Œ í’€ë¦° ì´ìœ ëŠ” ë©”ëª¨ë¦¬ ì œí•œì´ ë„ë„í•˜ê³ , ì¹¸ì˜ ë„“ì´ê°€ `50`ë°–ì— ì•ˆë˜ì„œ `50^4 = 6250000`ì´ë¼ëŠ” `o(n^4)`ê°€ ë‚˜ì™€ë„ ê±±ì •ì—†ëŠ” ë¬¸ì œë¼ì„œ ë©”ëª¨ë¦¬ ê±±ì •ì•ˆí•˜ê³  í’€ì–´ì„œ ì‰½ê²Œ í•´ê²°ëœ ë¬¸ì œì¸ê²ƒ ê°™ë‹¤.  

ì²˜ìŒì—ëŠ” `N x N`í¬ê¸°ì˜ `pos`ë¼ëŠ” í´ë˜ìŠ¤ë¥¼ ì¸ìë¡œ ê°€ì§€ëŠ” 2ì°¨ì› ë°°ì—´ì„ ì‚¬ìš©í•˜ì—¬ êµ¬ìƒì„ í•˜ì˜€ë‹¤.  
íŒŒì´ì–´ë³¼ì´ë¼ëŠ” ê°ì²´ë¥¼ ì—¬ëŸ¬ê°œ êµ¬í˜„í•˜ëŠ” í˜•ì‹ì´ ì•„ë‹Œ, ê° ì£¼ì†Œê°’ì— í˜„ì¬ íŒŒì´ì–´ë³¼ì˜ ì •ë³´ë¥¼ ì €ì¥ì‹œí‚¤ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬ìƒì„ í•˜ì˜€ë‹¤.  
`ì´ì¤‘ for`ë¬¸ì„ ì‚¬ìš©í•˜ì—¬, `BFS`ì²˜ëŸ¼ ì²«ì¹¸ë¶€í„° ë§ˆì§€ë§‰ ì¹¸ê¹Œì§€ ìˆœì„œëŒ€ë¡œ ì´ë™ì‹œí‚¤ëŠ” ì‹ìœ¼ë¡œ êµ¬í˜„ì„ í•˜ë ¤ê³  í•˜ì˜€ë‹¤.  
ì´ë¥¼ ìœ„í•˜ì—¬ `ì†ë„ * DR[i] + í˜„ì¬ìœ„ì¹˜`ë¥¼ ì´ìš©í•˜ì—¬ ë‹¤ìŒ ì¹¸ì˜ ìœ„ì¹˜ë¥¼ êµ¬í•˜ë ¤ê³  í–ˆëŠ”ë°, ì´ ìœ„ì¹˜ê°€ `N`ë³´ë‹¤ ì‘ì„ìˆ˜ë„, í´ìˆ˜ë„ ìˆë‹¤ëŠ” ë¬¸ì œì ì´ ìˆì—ˆë‹¤.  
ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•˜ì—¬, `cur[0] + ((ODR[j] * curs+ N) % N`ì²˜ëŸ¼ ì¼ë¶€ëŸ¬ `N`ì„ ë”í•´ì„œ ì–‘ìˆ˜ë¡œ ë§Œë“¤ê³  `N`ìœ¼ë¡œ ë‚˜ëˆ ì„œ ì¸ë±ìŠ¤ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ê³  í•˜ì˜€ë‹¤.  
í•˜ì§€ë§Œ ë§Œë“¤ê³ ë³´ë‹ˆ ì†ë„ê°€ ë„ˆë¬´ì»¤ì„œ Nì„ ë”í•´ì¤€ê°’ë³´ë‹¤ ë” í´ ìˆ˜ë„ ìˆë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤.  
ê·¸ë˜ì„œ ì†ë„ë¥¼ `N`ìœ¼ë¡œ ë‚˜ëˆˆ ë‚˜ë¨¸ì§€ì— `N`ê°’ì„ ë”í•´ì£¼ê³  ë‹¤ì‹œ `%N`ì—°ì‚°ì„ í•´ì£¼ëŠ” ì‚´ì§ì€ ë²ˆê±°ë¡œìš´ ë‹¤ìŒê³¼ ê°™ì€ ì—°ì‚°ì„ ì´ìš©í•˜ì—¬ êµ¬í˜„í•˜ì˜€ë‹¤.  
'''(cur[0] + ((ODR[j] * curs) % N + N)) % N'''

ì´í›„ ì½”ë“œë¥¼ ì‘ì„±í•˜ë‹¤ê°€ `visited` ë°°ì—´ì„ ì‚¬ìš©í•˜ë”ë¼ë„ í•´ê²°ì´ ì•ˆë˜ëŠ” ë¬¸ì œê°€ í•˜ë‚˜ ìˆì—ˆëŠ”ë° ë°”ë¡œ, íŒŒì´ì–´ë³¼ì´ ë‹¤ìŒê³¼ ê°™ì´ `íŒŒì´ì–´ë³¼1`ì´ [2,2]ì˜ ìœ„ì¹˜ë¡œ ì´ë™í•˜ë ¤ê³  í• ë–„ í•˜í•„ ê·¸ìë¦¬ì— ë‹¤ë¥¸ íŒŒì´ì–´ë³¼ì´ ìˆìœ¼ë©´, `íŒŒì´ì–´ë³¼1`ì€ ë‘ë²ˆ ì´ë™í•˜ê²Œ ë˜ê²Œ ëœë‹¤.

![image](https://user-images.githubusercontent.com/37824506/217297788-11819635-fe03-42e5-8ab4-8d79f0be86f9.png)

ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•˜ì—¬ `íŒŒì´ì–´ë³¼1`ì´ ì´ë™í•œ í›„, [2,2]ì˜ ìë¦¬ë¥¼ visited ë°°ì—´ì— ë„£ì–´ì„œ, ê²€ì‚¬ë¥¼ ì•ˆí•˜ë©´ `íŒŒì´ì–´ë³¼2`ëŠ” ì›€ì§ì´ì§€ ì•Šê²Œ ëœë‹¤.  

ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•˜ì—¬ ê²°êµ­ ë‹¤ìŒìƒíƒœì™€ í˜„ì¬ìƒíƒœë¥¼ êµ¬ë³„í•´ì•¼ ëœë‹¤ëŠ” ê²ƒì„ ëŠë¼ê³ , ì½”ë“œë¥¼ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì§œê¸° ì‹œì‘í–ˆë‹¤.  
ë©”ëª¨ë¦¬ì–‘ì´ ë„‰ë„‰í•˜ë‹¤ëŠ” ê²ƒì„ ì´ìš©í•´ ê·¸ëƒ¥ `currentfield` ì™€ `field` ë¥¼ ë§Œë“¤ì–´ì„œ í˜„ì¬ ìƒíƒœì™€ ë‹¤ìŒ ìƒíƒœë¥¼ êµ¬ë³„í•˜ì˜€ë‹¤.  
ê·¸ë¦¬ê³ , í­ë°œì„ ì–´ë–»ê²Œ êµ¬í˜„í•´ì•¼ í•˜ë‚˜ ìˆœì„œë¥¼ ê³ ë¯¼í•˜ë‹¤ê°€, í•­ìƒ `í­ë°œ -> ì´ë™` ë°©ì‹ìœ¼ë¡œ `isExplode`ë¼ëŠ” ë³€ìˆ˜ë¥¼ ì¶”ê°€í•˜ì—¬, ì´ë™í•˜ê¸°ì „ì— `isExplode`ê°€ ê±°ì§“ì´ë©´ ê·¸ëŒ€ë¡œ, ì°¸ì´ë©´ ê°ê° `EDR`, `ECR`, `ODR`, `OCR`ì´ë¼ëŠ” ìƒìˆ˜ ì¸íŠ¸ ë°°ì—´ì„ ë§Œë“¤ì–´ì„œ `dir % 8` ê°’ì´ ì§ìˆ˜ë©´ ì•ì˜ ë‘ê°œ, í™€ìˆ˜ë©´ ë’¤ì— ë‘ê°œë¥¼ ì‚¬ìš©í•˜ì—¬ í­ë°œì„ êµ¬í˜„í•˜ì˜€ë‹¤.  
í•˜ì§€ë§Œ ì—¬ê¸°ì„œ í¬ë‚˜í° ì˜¤ì°¨ê°€ í•˜ë‚˜ ìƒê¸°ëŠ”ë° ë’¤ì—ì„œ ì„¤ëª…í•˜ê² ë‹¤.  

ì´í›„, í•©ì¹˜ëŠ” ê²ƒì„ ê³„ì† êµ¬í˜„í•˜ë‹¤ê°€ ì†ë„ ë¶€ë¶„ì—ì„œ ë¬¸ì œê°€ ìƒê²¼ë‹¤.  
ì›ë˜ ê¸°ì¡´ ë“¤ì–´ì˜¨ ê°’ì— ìƒˆê°’ì„ ë”í•´ì„œ 2ë¥¼ ë‚˜ëˆ„ëŠ” ì‹ìœ¼ë¡œ êµ¬í˜„ì„ í•˜ë ¤ë‹¤ê°€, ìì„¸íˆ ê³„ì‚°ì„ í•´ë³´ë‹ˆ, `count`ë¼ëŠ” ë³€ìˆ˜ê°’ì´ ë¬´ì¡°ê±´ í•„ìš”í•˜ë‹¤ëŠ” ê²ƒì„ ì•Œê²Œë˜ì—ˆë‹¤.  
ê·¸ë˜ì„œ ë’¤ëŠ¦ê²Œ `pos`ì— ë„£ì–´ì£¼ì—ˆë‹¤.  



<br>

## ğŸ“Œ Code

```java
package BOJ.Implements;

import java.io.*;
import java.util.*;

public class N20056 {
    static class pos {
        int m;
        int s;
        int d;
        boolean isExplode;
        int count;
        int isSame;

        public pos(int m, int s, int d, int count, int isSame, boolean isExplode) {
            this.m = m;
            this.s = s;
            this.d = d;
            this.count = count;
            this.isSame = isSame;
            this.isExplode = isExplode;
        }

        public boolean BigBang(int m, int s, int d) {
            if (this.m != 0) {
                this.isExplode = true;
                this.count += 1;
                if (this.isSame == notSame) {
                    this.isSame = notSame;
                } else if ((this.isSame == empty) || (this.isSame == d % 2)) {
                    this.isSame = d % 2;
                } else {
                    this.isSame = notSame;
                }
            } else {
                this.isSame = d % 2;
                this.isExplode = false;
                this.count = 1;
            }
            this.m += m;
            this.s += s;
            this.d += d;
            this.d %= 8;
            return isExplode;
        }

        public void reset() {
            this.m = 0;
            this.s = 0;
            this.d = 0;
            this.count = 0;
            this.isSame = empty;
            this.isExplode = false;
        }
    }


    static pos[][] field;
    static pos[][] curfield;
    static Queue<Integer[]> fire;
    static int N;
    static int M;
    static int K;
    static int empty = -1;
    static int notSame = -2;
    static final int[] DR = {-1, -1, 0, 1, 1, 1, 0, -1};
    static final int[] DC = {0, 1, 1, 1, 0, -1, -1, -1};
    static final int[] EDR = {-1, 0, 1, 0};
    static final int[] EDC = {0, 1, 0, -1};
    static final int[] ODR = {-1, 1, 1, -1};
    static final int[] ODC = {1, 1, -1, -1};


    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());
        N = Integer.parseInt(st.nextToken());
        M = Integer.parseInt(st.nextToken());
        K = Integer.parseInt(st.nextToken());

        curfield = new pos[N][N];
        field = new pos[N][N];

        for (int i = 0; i < N; i++) {
            for (int j = 0; j < N; j++) {
                field[i][j] = new pos(0, 0, 0, 1, empty, false);
                curfield[i][j] = new pos(0, 0, 0, 1, empty, false);
            }
        }
        fire = new LinkedList<>();
        int r;
        int c;
        for (int i = 0; i < M; i++) {
            st = new StringTokenizer(br.readLine());
            r = Integer.parseInt(st.nextToken()) - 1;
            c = Integer.parseInt(st.nextToken()) - 1;
            field[r][c] = new pos(Integer.parseInt(st.nextToken()), Integer.parseInt(st.nextToken()), Integer.parseInt(st.nextToken()), 1, empty, false);
            fire.add(new Integer[]{r, c});
        }
        TotalTime(K);
    }

    static void TotalTime(int time) {
        //ShowAll();
        for (int i = 0; i < time; i++) {
            MoveFire();
            //ShowAll();
        }
        Count();
    }

    static void MoveFire() {
        for (int i = 0; i < N; i++) {
            for (int j = 0; j < N; j++) {
                curfield[i][j] = new pos(field[i][j].m, field[i][j].s, field[i][j].d, field[i][j].count, field[i][j].isSame, field[i][j].isExplode);
                field[i][j].reset();
            }
        }
        int count = fire.size();
        int nextR;
        int nextC;
        int curm;
        int curs;
        int curd;
        Integer[] cur;
        for (int i = 0; i < count; i++) {
            cur = fire.poll();
            curm = curfield[cur[0]][cur[1]].m;
            curs = curfield[cur[0]][cur[1]].s;
            curd = curfield[cur[0]][cur[1]].d;
            if (curm <= 0) {
                continue;
            }
            if (!curfield[cur[0]][cur[1]].isExplode) {
                nextR = (cur[0] + ((DR[curd] * curs) % N + N)) % N;
                nextC = (cur[1] + ((DC[curd] * curs) % N + N)) % N;
                if (!field[nextR][nextC].BigBang(curm, curs, curd)) {
                    fire.add(new Integer[]{nextR, nextC});
                }
            } else {
                curm /= 5;
                curs /= curfield[cur[0]][cur[1]].count;
                if (curm <= 0) {
                    continue;
                }
                if (curfield[cur[0]][cur[1]].isSame == notSame) {
                    for (int j = 0; j < ODC.length; j++) {
                        nextR = (cur[0] + ((ODR[j] * curs) % N + N)) % N;
                        nextC = (cur[1] + ((ODC[j] * curs) % N + N)) % N;
                        if (!field[nextR][nextC].BigBang(curm, curs, 2 * j + 1)) {
                            fire.add(new Integer[]{nextR, nextC});
                        }
                    }
                } else {
                    for (int j = 0; j < EDC.length; j++) {
                        nextR = (cur[0] + ((EDR[j] * curs) % N + N)) % N;
                        nextC = (cur[1] + ((EDC[j] * curs) % N + N)) % N;
                        if (!field[nextR][nextC].BigBang(curm, curs, 2 * j)) {
                            fire.add(new Integer[]{nextR, nextC});
                        }
                    }
                }
            }
        }
    }

    static void Count() {
        int result = 0;
        for (int i = 0; i < N; i++) {
            for (int j = 0; j < N; j++) {
                if (field[i][j].isExplode) {
                    result += (field[i][j].m / 5) * 4;
                } else {
                    result += field[i][j].m;
                }
            }
        }
        System.out.println(result);
    }


    static void ShowAll() {
        for (int i = 0; i < N; i++) {
            for (int j = 0; j < N; j++) {
                if (field[i][j].m == 0) {
                    System.out.print(". ");
                } else if (field[i][j].isExplode) {
                    System.out.print(field[i][j].m + ")");
                } else {
                    System.out.print(field[i][j].m + " ");
                }
            }
            System.out.println();
        }
        System.out.println("==========================");
    }
}
```


package (ì´ë¦„); ë¥¼ ë•Œê³ , class ì´ë¦„ì„ `Main`ìœ¼ë¡œ ë³€ê²½í•˜ë©´ ëœë‹¤.
{: .notice} 

<br>

## ğŸ“Œ ì¶”ê°€ ì˜ˆì œ

```
[Input]
7 4 5
1 1 1 1 3
1 3 2 1 5
3 1 3 1 1
3 3 4 1 7

[Output]
```
8
***

```
[Input]
7 4 5
1 2 1 1 4
2 3 2 1 6
3 1 3 1 1
3 3 4 1 7

[Output]
8
```

```
[Input]
7 1 10
4 4 7 1 7

[Output]
7
```

    ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤.
    í‹€ë¦¬ê±°ë‚˜ ì˜¤ë¥˜ê°€ ìˆì„ ê²½ìš° ì œë³´í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤.ğŸ˜